# Enunciate StackOverflowError #

This is a minimal example for reproducing a `java.lang.StackOverflowError` while processing generic JAX-RS endpoint classes
via [Enunciate 2.9.1](https://github.com/stoicflame/enunciate).



The overflow is triggered by the method `CollectionResource.getById(id)` which returns a generically typed `Resource` object.

The project itself compiles fine with `javac`. This minimal example is based on a real (proprietary) API I'm currently working on, which also works fine.

## Stacktrace ##

Here's a link to the line of code that gets stuck in an infinite recursive loop: [TypeVariableContext, line 60](https://github.com/stoicflame/enunciate/blob/master/javac-support/src/main/java/com/webcohesion/enunciate/javac/decorations/type/TypeVariableContext.java#L60)




```
org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':enunciate'.
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:98)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:68)
        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)
        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)
        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)
        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:46)
        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:51)
        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)
        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)
        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)
        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:236)
        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:228)
        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)
        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)
        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:61)
        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:228)
        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:215)
        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:77)
        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:58)
        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:32)
        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:113)
        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)
        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)
        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)
        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)
        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)
        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)
        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)
        at org.gradle.initialization.DefaultGradleLauncher$RunTasksAction.execute(DefaultGradleLauncher.java:230)
        at org.gradle.initialization.DefaultGradleLauncher$RunTasksAction.execute(DefaultGradleLauncher.java:227)
        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)
        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)
        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)
        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:161)
        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:112)
        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:95)
        at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:66)
        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)
        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)
        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)
        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)
        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:49)
        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:49)
        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:31)
        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)
        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)
        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)
        at org.gradle.util.Swapper.swap(Swapper.java:38)
        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)
        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)
        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)
        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)
        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)
        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)
        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)
        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:46)
Caused by: java.lang.RuntimeException: java.lang.StackOverflowError
        at com.sun.tools.javac.main.Main.compile(Main.java:553)
        at com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)
        at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:138)
        at com.webcohesion.enunciate.Enunciate.run(Enunciate.java:674)
        at com.webcohesion.enunciate.gradle.EnunciateTask.run(EnunciateTask.java:160)
        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)
        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:141)
        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)
        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:123)
        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:692)
        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:675)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.execute(ExecuteActionsTaskExecuter.java:115)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.execute(ExecuteActionsTaskExecuter.java:109)
        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)
        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)
        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:109)
        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:90)
        ... 70 more
Caused by: java.lang.StackOverflowError
        at com.webcohesion.enunciate.javac.decorations.element.DecoratedTypeParameterElement.<init>(DecoratedTypeParameterElement.java:37)
        at com.webcohesion.enunciate.javac.decorations.ElementDecorator.visitTypeParameter(ElementDecorator.java:126)
        at com.webcohesion.enunciate.javac.decorations.ElementDecorator.visitTypeParameter(ElementDecorator.java:30)
        at com.sun.tools.javac.code.Symbol$TypeVariableSymbol.accept(Symbol.java:821)
        at com.webcohesion.enunciate.javac.decorations.ElementDecorator.decorate(ElementDecorator.java:57)
        at com.webcohesion.enunciate.javac.decorations.type.DecoratedTypeVariable.asElement(DecoratedTypeVariable.java:38)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariable(TypeVariableContext.java:73)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:53)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        at com.webcohesion.enunciate.javac.decorations.type.TypeVariableContext.resolveTypeVariables(TypeVariableContext.java:60)
        ...ETC...
```
